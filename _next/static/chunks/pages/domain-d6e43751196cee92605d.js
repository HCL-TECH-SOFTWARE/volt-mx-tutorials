_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{EwQA:function(e,t,r){var n=r("zZ0H");e.exports=function(e){return"function"==typeof e?e:n}},FSPc:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/domain",function(){return r("US8s")}])},US8s:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),s=r.n(n),c=r("HaE+"),i=r("nKUr"),o=r("1OyB"),a=r("vuIU"),u=r("JX7q"),l=r("Ji7U"),d=r("md7G"),f=r("foSv"),p=r("rePB"),b=r("q1tI"),j=r("/MKj"),O=r("ANjH"),h=r("9xET"),v=r.n(h),g=r("bNQv"),y=r.n(g),m=r("J66h"),A=r("vfq0"),w=r("32PK"),x=r("9At1"),P=r("K4dc"),k=r("Zb9X"),q=r("jleH"),_=r("/ESC"),C=r("cF7z"),z=r("7Qib"),S=r("mOvS");function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var s=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var N=r.n(S)()().publicRuntimeConfig,T=function(e){Object(l.a)(r,e);var t=L(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s)),Object(p.a)(Object(u.a)(e),"getInfiniteAssets",(function(t){var r=e.props.assets,n=r.list;e.props.loadAssets({count:10,offset:t},r.headers,n)})),Object(p.a)(Object(u.a)(e),"getcloudTitle",(function(e,t){var r=e.query.cloudId;return t.cloudAccounts&&t.cloudAccounts.length>0?(t.cloudAccounts.map((function(t){String(null===t||void 0===t?void 0:t.account_id)===e.query.cloudId&&(r="".concat(Object(z.a)(t.account_title)," (").concat(null===t||void 0===t?void 0:t.account_id,")"))})),r):e.query.cloudId})),Object(p.a)(Object(u.a)(e),"checkCloudAccount",(function(e,t){var r=!1;return y()(t,(function(t){Number(e.query.cloudId)===Number(null===t||void 0===t?void 0:t.account_id)&&(r=!0)})),r})),Object(p.a)(Object(u.a)(e),"getBreadCrumbTitle",(function(){var t=e.props,r=t.mp,n=t.url,s=n.query,c=s.domain,i=s.cloudId,o=s.channels,a=s.keyword,u=s.author;if(i)return e.getcloudTitle(n,r);if(u)try{var l=m.Base64.decode(u);if(l)return l.split("::")[0]}catch(d){return u}return c?Object(z.a)(c):o?e.getChannelTitle(n):a||void 0})),Object(p.a)(Object(u.a)(e),"getChannelTitle",(function(e){var t=e.query.channels;if(t&&!Array.isArray(t)&&e.asPath&&e.asPath.includes("/channels/"))return Object(z.a)(t)})),e}return Object(a.a)(r,[{key:"componentDidMount",value:function(){this.props.mp.isVizWeb&&(Object(z.b)("".concat(N.asset,"/static/dist/js/visualizer.js")),this.getInfiniteAssets(0)),this.props.loadFilters()}},{key:"render",value:function(){var e=this.props,t=e.mp,r=e.assets,n=e.url,s=t.cloudAccounts,c=t.config,o=t.isLogin,a=t.isVizApp,u=t.isVizWeb;return n.query.cloudId&&!this.checkCloudAccount(n,s)?Object(i.jsxs)(k.a,{config:c,isLogin:o,url:n,children:[Object(i.jsx)(A.a,{title:Object(z.a)(n.query.domain)||n.query.keyword}),Object(i.jsx)(q.a,{selectedParams:r.selectedFilters}),Object(i.jsx)(w.a,{})]}):Object(i.jsxs)(k.a,{config:t.config,isLogin:t.isLogin,url:this.props.url,children:[Object(i.jsx)(A.a,{title:this.getBreadCrumbTitle()}),Object(i.jsxs)(v.a,{className:"mpDomainPage",children:[Object(i.jsx)(q.a,{selectedParams:r.selectedFilters}),Object(i.jsx)(C.a,{filters:r.filters,viz:t.isVizWeb,vizApp:t.isVizApp,url:n}),Object(i.jsx)(_.a,{title:this.getBreadCrumbTitle(),filters:this.props.assets.filters,selectedList:r.selectedFilters,assets:r.list,currentList:r.currentList,load:r.loadMore,getAssets:this.getInfiniteAssets,filtersLoading:r.filtersLoading,isVizApp:a,isViz:a||u,searchKeyword:n.query.keyword,hideFilters:this.getChannelTitle(n),total:r.totalAssetCount,loading:r.loading})]})]})}}],[{key:"getInitialProps",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var r,n,c,i,o,a,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Object(P.a)(t);case 4:return i=t.store.getState(),o=i.assets,e.next=7,t.store.dispatch(x.b.getConfig());case 7:if(!(null!==(r=t.query)&&void 0!==r&&r.useragent||null!==(n=t.req)&&void 0!==n&&null!==(c=n.cookies)&&void 0!==c&&c.useragent)){e.next=18;break}if("visualizer"===((null===(a=t.query)||void 0===a?void 0:a.useragent)||(null===(u=t.req)||void 0===u||null===(l=u.cookies)||void 0===l?void 0:l.useragent)).toLowerCase()){e.next=14;break}return e.next=12,t.store.dispatch(x.a.loadAssets({count:10,offset:0},o.headers));case 12:e.next=16;break;case 14:return e.next=16,t.store.dispatch(x.a.setAssetsLoading(!0));case 16:e.next=20;break;case 18:return e.next=20,t.store.dispatch(x.a.loadAssets({count:10,offset:0},o.headers));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(b.Component);t.default=Object(j.b)((function(e){return{mp:e.marketplace,assets:e.assets}}),(function(e){return Object(O.bindActionCreators)(I(I({},x.b),x.a),e)}))(T)},bNQv:function(e,t,r){var n=r("gFfm"),s=r("SKAX"),c=r("EwQA"),i=r("Z0cm");e.exports=function(e,t){return(i(e)?n:s)(e,c(t))}}},[["FSPc",1,2,6,9,11,14,27,28,0,3,4,5,8,10,12,13,15,16,18,20,24,26,29,30,32]]]);