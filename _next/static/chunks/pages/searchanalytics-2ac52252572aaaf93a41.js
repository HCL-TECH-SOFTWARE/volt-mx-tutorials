_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[49],{"3Bj7":function(e,t,a){"use strict";a.r(t);var n=a("nKUr"),r=a("o0o1"),o=a.n(r),c=a("HaE+"),i=a("1OyB"),s=a("vuIU"),l=a("JX7q"),u=a("Ji7U"),d=a("md7G"),p=a("foSv"),f=a("rePB"),b=a("q1tI"),h=a("/MKj"),m=a("ANjH"),g=a("9xET"),j=a.n(g),S=a("ZPTe"),O=a.n(S),v=a("k4Da"),y=a.n(v),D=a("wd/R"),w=a.n(D),x=a("20a2"),R=a.n(x),C=a("TlR6"),k=a("9At1"),I=a("K4dc"),U=a("Zb9X"),E=a("8Gie"),A=a("WrOz"),P=(a("fS1W"),a("PGnZ")),_=a.n(P),B=a("32PK"),F=a("LhTS"),T=a("6UAj"),N=a("2Dw/"),M=a("7Qib");function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var q=function(e){Object(u.a)(a,e);var t=L(a);function a(e){var r;Object(i.a)(this,a),r=t.call(this,e),Object(f.a)(Object(l.a)(r),"columns",[{title:"Search Term",dataIndex:"searchTerm",sorter:function(e,t){return e.searchTerm.localeCompare(t.searchTerm)},sortDirections:["descend","ascend"],width:110},{title:"Total Search Uniques",dataIndex:"searchUniques",sorter:function(e,t){return e.searchUniques-t.searchUniques},width:100},{title:"Average Search Depth",dataIndex:"avgSearchDepth",sorter:function(e,t){return e.avgSearchDepth-t.avgSearchDepth},sortDirections:["descend","ascend"],width:100},{title:"% Search Refinements",dataIndex:"percentSearchRefinements",sorter:function(e,t){return e.percentSearchRefinements-t.percentSearchRefinements},sortDirections:["descend","ascend"],width:100},{title:"Search Duration (HH:mm:ss)",dataIndex:"searchDuration",sorter:function(e,t){return e.searchDuration-t.searchDuration},sortDirections:["descend","ascend"],width:100,render:function(e){return Object(M.d)(e)}},{title:"% Conversion",dataIndex:"searchGoalConversionRateAll",sorter:function(e,t){return e.searchGoalConversionRateAll-t.searchGoalConversionRateAll},sortDirections:["descend","ascend"],width:100}]),Object(f.a)(Object(l.a)(r),"getData",function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),e.prev=1,e.next=4,I.c.get("api/v1_0/marketplace/get_analytics_data",{params:{from_date:t[0],to_date:t[1]}});case 4:a=e.sent,r.setState({loading:!1,data:a.data,originalData:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r.setState({loading:!1,data:[],originalData:[]});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),Object(f.a)(Object(l.a)(r),"onChange",(function(e,t,a,n){var o=n.currentDataSource;r.setState({loading:!1,data:o,originalData:o})})),Object(f.a)(Object(l.a)(r),"onRowClickParent",(function(e){var t={data:encodeURIComponent(JSON.stringify(e)),from_date:r.state.dates[0],to_date:r.state.dates[1]};R.a.replace({pathname:"/keyworddetails",query:t})})),Object(f.a)(Object(l.a)(r),"renderContent",(function(e){var t=r.state,a=t.loading,o=t.dates,c=t.momentDates,i=t.data;return e?Object(n.jsxs)(b.Fragment,{children:[Object(n.jsxs)(j.a,{className:_.a.panelContainer,children:[Object(n.jsx)(O.a,{span:14,children:Object(n.jsx)(E.a,{title:"Search Analytics",subRoutes:[{name:"Dashboard",path:"".concat(N.a,"marketplace/dashboard")},{name:"Analytics",path:"/analytics"}]})}),Object(n.jsx)(O.a,{span:10,className:_.a.datePanel,children:Object(n.jsx)(A.a,{setDate:r.setDate,defaultDateValuesInMoment:c,defaultDateValues:o})})]}),Object(n.jsxs)(j.a,{className:_.a.RowContainer,children:[Object(n.jsx)(O.a,{children:Object(n.jsx)(T.a,{data:i,columns:r.columns,fileNameSuffix:"search_analytics"})}),Object(n.jsx)(O.a,{className:_.a.filterTablePanel,children:Object(n.jsx)(F.a,{onRowClick:r.onRowClickParent,showPagination:!0,data:i,columns:r.columns,onChange:r.onChange,loading:a})})]})]}):Object(n.jsx)(B.a,{})}));var s=a.getFormattedDate(new Date),u=a.getFormattedDate(new Date((new Date).getTime()-6048e5));return r.state={data:[],originalData:[],loading:!1,dates:[u,s],momentDates:[w()(u),w()(s)]},r.setDate=r.setDate.bind(Object(l.a)(r)),r.getData=r.getData.bind(Object(l.a)(r)),r.filterData=r.filterData.bind(Object(l.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.dates;this.getData(e)}},{key:"setDate",value:function(e,t){this.setState({dates:e,momentDates:t}),this.getData(e)}},{key:"filterData",value:function(e){var t=this.state.originalData;this.setState({data:y()(t,(function(t){return t.searchTerm.toString().toLowerCase().includes(e.toString().toLowerCase())}))})}},{key:"render",value:function(){var e=this.props,t=e.marketplace,a=e.url,r=t.config,o=t.moderatorMenu;return Object(n.jsxs)(U.a,{config:r,url:a,children:[Object(n.jsx)(C.a,{filterData:this.filterData,placeholder:"Search for keyword",search:!0}),Object(n.jsx)("div",{children:this.renderContent(o&&o.subMenu&&o.subMenu.length>0)})]})}}],[{key:"getFormattedDate",value:function(e){var t=e,a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return"".concat(r,"-").concat(n,"-").concat(a)}},{key:"getInitialProps",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(t);case 2:return e.next=4,t.store.dispatch(k.b.getConfig(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(b.Component);t.default=Object(h.b)((function(e){return{marketplace:e.marketplace}}),(function(e){return Object(m.bindActionCreators)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},k.b),e)}))(q)},CwOF:function(e,t,a){e.exports={poppinsRegular:'"Poppins Regular", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',poppinsMedium:'"Poppins Medium", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',poppinsLight:'"Poppins Light", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',robotoSlabRegular:'"RobotoSlab Regular", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',robotoSlabLight:'"RobotoSlab Light", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',robotoSlabBold:'"RobotoSlab Bold", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',bodyBg:"#f9fafc",dbxBg:"#704C9F",navText:"#9094a5",secondaryText:"#8A96AF",divider:"rgba(48, 53, 63, 0.1)",assetBg:"#f0f0f0",optionsText:"#646E83",activeColor:"#297BFF",postBackground:"#8394E0",userActive:"#6E86E7",filterActive:"#73DB9B",filterIconBg:"#64C489",titleLightBlue:"#6e87f5",titleRed:"#EE6B6B",titleText:"#30353F",loaderWrapper:"_3d0GU",inline:"_2YCUz",content:"_2emF1",center:"_2ny11",assetListLoader:"_334HO"}},fS1W:function(e,t,a){"use strict";var n=a("nKUr"),r=(a("q1tI"),a("CwOF")),o=a.n(r),c=a("mOvS"),i=a.n(c)()().publicRuntimeConfig,s=function(e){var t=e.inline,a=e.size,r=e.height,c=e.width,s=e.className,l=e.style;return Object(n.jsx)("div",{style:l,className:"".concat(o.a.loaderWrapper," ").concat(t?o.a.inline:null," ").concat(s),children:Object(n.jsx)("div",{className:o.a.content,children:Object(n.jsx)("div",{className:o.a.center,children:Object(n.jsx)("img",{src:"".concat(i.asset,"/static/dist/images/loader.svg"),alt:"Loader",height:r||a,width:c||a})})})})};s.defaultProps={inline:!1},t.a=s},kHcy:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/searchanalytics",function(){return a("3Bj7")}])}},[["kHcy",1,2,6,9,11,14,0,3,4,5,8,10,12,13,15,16,17,18,20,22,23,25,7]]]);